# 任务目标

你的任务是完成游戏中所有的剧本文本的编写，所以**千万不要**尝试自己写很复杂的逻辑判断或者急于做游戏呈现的效果方面的考虑（这是演出的工作）

> 如果你有这样的疑惑，要是我写的文本并不是想在对话框中呈现，而是想做成对白什么的，这里的语法没有怎么办啊？
>
> 这说明你还是在想**演出**方面的工作，如果你是独立制作，或者实在想提出自己的建议，请把这些直接通过文档或者直接告诉**演出人员**，那边自然会有更加合适而且很可能更好的方式去实现你的想法。
>
> 所以，这些文本，**直接写下来就好**

本引擎为了让各位大人体验更好，设计的语法尽量的简单，一般只要不异想天开的使用这些语法，就不会出现问题，而且，对于一些错误的语法，本引擎尽量尝试解析，但是你不需要特别担心，no zuo no die，而且出现了问题也是程序人员的事。

## 语法

> 本语法为了中文制作人员更好的使用，提供了中文关键字
> 中文大概是不会拼错的吧

**普通剧情文本**

不需要任何标志，一行代表一个剧情文本，换行就变成了两个，直接写即可

```
这是一个夏天。
```

如果需要带上人物名称，语法为中括号加上名称加上对话

```
[行人]你没长眼睛啊！
```

**选项**

```
#choice '选项1' '文字' '文字'
```
> 中文关键字 选择-》choice
> 同义关键字 choose-》choice

```
#ch1 {
选了选项1的剧情
}
#ch2 {
选了选项2的剧情
}
```
> 中文关键字 选项-》ch

**剧情加载**

中断当前剧本，转而去你所指定的对应的剧本，等那个剧本结束之后再继续执行。

剧情设置剧情加载，是为了更好的管理一个庞大的剧本，条理清晰，也方便把不同的剧本编写任务下发到不同的人同时处理。

```
#load "文 件名" "剧情块名"
```
> 中文关键字 加载-》load


这么写的含义是，执行对应的文件名中，名称为对应剧情块名称的剧情块（剧情块后面说，就是一小段剧情）

有的时候，可能你就是需要执行对应文件中全部的剧情，里面没有剧情块，你可以只写文件名，注意`./`代表在当前文件夹下，（其实这个是常识）

有的时候，你是要执行当前剧情脚本中的剧情块，你可以不写文件名

```
#load "文 件名或剧情块名"
```

**定义剧情块**

剧情块就是给一小段剧情一个名称，如果需要执行这段剧情，则需要通过加载这个剧情块（如何加载见语法“剧情加载”）

```
#block 'name'{
里面是一些剧情
需要通过加载剧情来执行
}
```
> 中文关键字 块-》block

**下面的就是关于更方便的控制剧情的执行走向的语法了，切记不要用太多，容易给演出人员带来麻烦，不要以及尝试写复杂的逻辑跳转，交给程序同学即可（如果有的话）**



**数值操作**

数值就是设定一个值，或者改变已经设定好的数值，在对应的时刻可以通过逻辑跳转来执行不同的剧情

```
#set 'name' 'a+b+c'
```
> 中文关键字 设置-》set

设定周目内使用的数值，设定的值到了不同的周目值是没有的

注意，只允许使用加减，只允许整数运算（防止滥用）

> 举例
>
> \#set 'x' 'a+b+1'
>
> 就是让x=a+b+1

如果你想一个值在周目结束之后仍然可以在下个周目使用，

```
#record 'name' 'a+b+c'
```
> 记录-》record


**分支条件**

分支语法大多数编程语言一样，如果条件成立就执行，不成立就下一个

```
#if 'a+b+1=c' {
这里是a+b+c=1的情况
}#elseif 'c>=0'{
这里是c>=0的情况
}#else{
这里是其他
}

这样
#if 'a+b+1=c' {
这里是a+b+c=1的情况
}

或者这样也可以自己试试，试试就明白了
#if 'a+b+1=c' {
这里是a+b+c=1的情况
}#else{
这里是其他
}
```
> 中文关键字 如果-》if
> 中文关键字 否则如果 -》elseif
> 中文关键字 否则 -》 else

> 不要问我为什么没有while循环，或者goto，答案也是为了防止滥用，滥用在工程太大的时候，会产生很多莫名奇妙的事情，但这些实际上只是你没有注意到你使用了某个语句而已

> 关于比较 不等于`!=`,大于等于`>=`,小于等于`<=`





**重点注意**

在工程中注意调理清晰，在下强烈建议大人们这么尝试

```
这是一个剧情文件
#load '第一章.txt'
#load '第二章.txt'
#if 'a>10'{
#load '好结局.txt'
}#elseif{
#load '普通结局.txt'
}
```

这样把剧情分成了几个文件，方便管理，一个文件太大是会给你自己和其他成员带来麻烦的。



```
#choice '选项1' '文字' '文字'
#ch1 {
如果这里有超过4行的剧情，建议还是用剧情块写
}
#ch2 {
#load '剧情选项2'
}
#block '剧情选项2'{

}
```



还有一些小问题，如果你的剧情文本中，第一个字符是'#’或者‘[’之类的特殊的字符影响编译器工作的，需要在前面加上一个'\\'变成‘\\#’或者'\\\['，还有，语法相关的的符号全部都是英文的符号，而不是汉字的符号（我们叫做全角符和半角符），这些问题在剧情编写完成之后再去考虑，到时候可以用工具去快速的处理，更高效一些，不用特别担心

### 中文关键字转换表
```
load->load
加载->load
choice->choice
选择->choice
choose->choice
ch->ch
选项->ch
if->if
如果->if
else->else
否则->else
elseif->elseif
否则如果->elseif
set->set
设置->set
设定->set
record->record
记录->record
block->block
块->block
voice->voice
声音->voice
render->render
渲染->render
break->break
中断->break
wait->wait
等待->wait
```